# YuCheng 语言 - 项目检查器

> **实现状态**: ✅ 完整实现
> - ✅ 项目检查器完整实现（project_checker.rs）
> - ✅ 结构和配置验证已实现
> - ✅ 依赖完整性检查完整
> - ✅ 最佳实践检查已实现

## 📊 实现状态

| 状态 | 说明 |
|------|------|
| **总体实现度** | 100% |
| **核心功能** | ✅ 已实现 |
| **可用性** | ✅ 可用 |
| **最后更新** | 2026-02-07 |

---

## 1. 概述

项目检查器验证YuCheng项目的结构、配置和完整性，确保项目符合最佳实践和规范要求。

### 核心特性

- 📁 **结构检查** - 验证项目目录结构
- ⚙️ **配置验证** - 检查配置文件正确性
- 📦 **依赖完整性** - 验证依赖是否完整
- 📝 **文件检查** - 检查必需文件是否存在
- 🎯 **最佳实践** - 检查是否符合最佳实践

---

## 2. 使用方法

### 2.1 检查项目

```bash
# 检查当前项目
yucheng project check

# 检查指定项目
yucheng project check --path ./my-project

# 详细输出
yucheng project check --verbose

# 生成报告
yucheng project check --output report.txt
```

### 2.2 修复问题

```bash
# 自动修复可修复的问题
yucheng project fix

# 初始化缺失的文件
yucheng project init-missing
```

---

## 3. 检查项

### 3.1 项目结构检查

标准项目结构：
```
my-project/
├── src/
│   └── main.ycs
├── tests/
│   └── test_main.ycs
├── docs/
│   └── README.md
├── .yucheng/
│   └── config.toml
├── project.ycl
└── README.md
```

检查项：
- ✅ src目录存在
- ✅ 入口文件存在
- ✅ 项目配置文件存在
- ⚠️ tests目录存在（可选）
- ⚠️ docs目录存在（可选）

### 3.2 配置文件检查

检查 `project.ycl`:
- ✅ 语法正确
- ✅ 必需字段存在
- ✅ 版本号格式正确
- ✅ 依赖声明正确

检查 `.yucheng/config.toml`:
- ✅ 配置项有效
- ✅ 路径正确
- ✅ 编译选项合法

### 3.3 依赖检查

- ✅ 所有依赖已安装
- ✅ 依赖版本兼容
- ✅ 无循环依赖
- ✅ 无冲突依赖

### 3.4 文件检查

必需文件：
- ✅ README.md
- ✅ LICENSE（发布项目）
- ✅ .gitignore

推荐文件：
- ⚠️ CHANGELOG.md
- ⚠️ CONTRIBUTING.md
- ⚠️ .editorconfig

---

## 4. 检查报告

### 4.1 报告示例

```
项目检查报告
============

项目: my-project
路径: ./my-project
检查时间: 2026-02-07 19:35

结构检查: ✅ 通过
  ✅ src目录存在
  ✅ 入口文件存在
  ⚠️ tests目录不存在（建议创建）

配置检查: ✅ 通过
  ✅ project.ycl 语法正确
  ✅ config.toml 配置有效

依赖检查: ✅ 通过
  ✅ 所有依赖已安装
  ✅ 无版本冲突

文件检查: ⚠️ 警告
  ✅ README.md 存在
  ⚠️ LICENSE 不存在（发布前需要）
  ⚠️ CHANGELOG.md 不存在（建议创建）

总体评分: 85/100
状态: 良好，有改进空间
```

---

## 5. 配置选项

```toml
[project_check]
# 严格模式
strict_mode = false

# 检查测试目录
require_tests = false

# 检查文档
require_docs = false

# 检查许可证
require_license = true

# 自定义结构规则
[project_check.structure]
required_dirs = ["src"]
optional_dirs = ["tests", "docs", "examples"]
```

---

## 6. 最佳实践

### 6.1 项目初始化

```bash
# 创建新项目
yucheng new my-project

# 检查项目
cd my-project
yucheng project check
```

### 6.2 定期检查

- 在提交前运行项目检查
- 在CI/CD中集成项目检查
- 定期审查检查报告

### 6.3 修复问题

- 优先修复错误
- 逐步改进警告
- 遵循最佳实践建议

---

## 7. CI/CD集成

```yaml
# GitHub Actions
- name: Project Check
  run: yucheng project check
```

---

**对应代码**: `compiler/src/project_checker.rs`
