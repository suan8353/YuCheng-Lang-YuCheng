# YuCheng è¯­è¨€ - å®¡è®¡ç³»ç»Ÿè¯¦è§£

> **å®ç°çŠ¶æ€**: âœ… å·²ä¸Šçº¿ç‰ˆæœ¬ï¼ˆæ ¸å¿ƒåŠŸèƒ½å¯ç”¨ï¼‰
> - âœ… ç¨‹åºåˆ†æ / å‡½æ•°åˆ†æ å®Œæ•´å®ç°ï¼ˆIDE ä¸ CLI å…±ç”¨ï¼‰
> - âœ… ä¸‰å¤§å®¡è®¡ç»´åº¦ï¼ˆå†…å­˜ / å¥‘çº¦ / æ€§èƒ½ï¼‰å·²è½åœ°ï¼Œæ”¯æŒè§„åˆ™ ID ä¸è¡Œå†…å¿½ç•¥
> - âœ… `yucheng audit` ä¸ `yucheng build --audit=...` å·²é›†æˆå®¡è®¡å¼•æ“
> - âš ï¸ éƒ¨åˆ†é«˜çº§è§„åˆ™ä»ä¸ºå¯å‘å¼å®ç°ï¼ˆå¦‚å¤æ‚å¥‘çº¦è¯æ˜ã€æ·±åº¦æŒ‡é’ˆç”Ÿå‘½å‘¨æœŸåˆ†æï¼‰

## 1. è®¾è®¡ç†å¿µ

ä¸ Node.js çš„ `npm audit`ï¼ˆå®¡æŸ¥ç¬¬ä¸‰æ–¹ä¾èµ–æ¼æ´ï¼‰ä¸åŒï¼ŒYuCheng çš„å®¡è®¡ç³»ç»Ÿèšç„¦äº **ä»£ç è¡Œä¸ºæœ¬èº«çš„å¯éªŒè¯æ€§**ï¼š

| ç»´åº¦ | npm audit | yucheng audit |
|------|-----------|---------------|
| å®¡æŸ¥å¯¹è±¡ | ç¬¬ä¸‰æ–¹åŒ…çš„å·²çŸ¥æ¼æ´ï¼ˆCVEï¼‰ | **ä½ è‡ªå·±çš„ä»£ç è¡Œä¸º** |
| è§¦å‘æ—¶æœº | ä¾èµ–å®‰è£…å | **å¼€å‘é˜¶æ®µ / æäº¤å‰** |
| ä¿®å¤æ–¹å¼ | å‡çº§ä¾èµ–ç‰ˆæœ¬ | **ç›´æ¥å®šä½åˆ°æºç è¡Œ** |
| é¢„é˜²èƒ½åŠ› | äº‹åè¡¥æ•‘ | **äº‹å‰é˜»æ–­** |

> æ ¸å¿ƒç›®æ ‡ï¼šä¸æ˜¯"æŸ¥åˆ«äººæœ‰æ²¡æœ‰å‘"ï¼Œè€Œæ˜¯"ç¡®ä¿è‡ªå·±ä¸æŒ–å‘"ã€‚

---

## 2. ä¸‰å¤§å®¡è®¡ç»´åº¦

### 2.1 å†…å­˜å®‰å…¨å®¡è®¡ï¼ˆMemory Safetyï¼‰

æ£€æŸ¥é¡¹ï¼š
- æ‚¬å‚æŒ‡é’ˆï¼ˆä½¿ç”¨å·²é‡Šæ”¾å†…å­˜ï¼‰
- å†…å­˜æ³„æ¼ï¼ˆåˆ†é…æœªé‡Šæ”¾ï¼‰
- è¶Šç•Œè®¿é—®ï¼ˆæ•°ç»„/ç¼“å†²åŒºï¼‰
- `æŒæœ‰`/`é‡Šæ”¾` ä¸æˆå¯¹

å®ç°æ–¹å¼ï¼š
- ç¼–è¯‘å™¨å†…ç½®é™æ€åˆ†æå™¨ï¼ˆæ— éœ€è¿è¡Œï¼‰
- åˆ†æ `.yci` ä¸­çš„ `ç”³è¯·`/`æŒæœ‰`/`é‡Šæ”¾` è°ƒç”¨å›¾
- è¿½è¸ªæŒ‡é’ˆç”Ÿå‘½å‘¨æœŸ

```bash
$ yucheng audit --memory

âš ï¸  math.yci:42: å¯èƒ½ä½¿ç”¨å·²é‡Šæ”¾æŒ‡é’ˆ 'buf'
    |
 42 |     var x = buf[0]
    |             ^^^ æŒ‡é’ˆ 'buf' åœ¨ç¬¬ 38 è¡Œå·²è¢«é‡Šæ”¾
    
âš ï¸  gpio.yci:15: åˆ†é…å†…å­˜æœªåœ¨ä½œç”¨åŸŸç»“æŸå‰é‡Šæ”¾
    |
 10 |     var data = æŒæœ‰(ç”³è¯·(1024))
    |                ^^^^ æ­¤å¤„æŒæœ‰çš„å†…å­˜ä»æœªé‡Šæ”¾
    
âŒ  buffer.yci:28: æ•°ç»„è¶Šç•Œè®¿é—®
    |
 28 |     arr[100] = 42
    |     ^^^^^^^^ æ•°ç»„ 'arr' å¤§å°ä¸º 50ï¼Œç´¢å¼• 100 è¶Šç•Œ
```

### 2.2 å‡½æ•°å¥‘çº¦åˆè§„å®¡è®¡ï¼ˆContract Complianceï¼‰

æ£€æŸ¥é¡¹ï¼š
- `çº¯å‡½æ•°` æ˜¯å¦è°ƒç”¨äº† `å‰¯ä½œç”¨` å‡½æ•°ï¼ˆè¿åçº¯å‡½æ•°åŸåˆ™ï¼‰
- `æŸ¥è¯¢` å‡½æ•°æ˜¯å¦è°ƒç”¨äº† `å‰¯ä½œç”¨` å‡½æ•°
- æ˜¯å¦æ»¡è¶³ `è¦æ±‚`/`ä¿è¯` æ¡ä»¶ï¼ˆé€šè¿‡ç¬¦å·æ‰§è¡Œæ¨å¯¼ï¼‰
- éšå¼ç±»å‹è½¬æ¢æ£€æµ‹

å®ç°æ–¹å¼ï¼š
- åŸºäº `.yc` ä¸­çš„å‡½æ•°ç±»åˆ«å’Œå¥‘çº¦å£°æ˜
- è·¨æ–‡ä»¶è°ƒç”¨å›¾åˆ†æ
- ç¬¦å·æ‰§è¡Œå¼•æ“éªŒè¯å¥‘çº¦

```bash
$ yucheng audit --contract

âŒ  sensor.yci:8: çº¯å‡½æ•° 'è¯»å–æ ¡å‡†å€¼' è°ƒç”¨äº†å‰¯ä½œç”¨å‡½æ•° 'å†™å…¥æ—¥å¿—'
    |
  8 |     å†™å…¥æ—¥å¿—("æ ¡å‡†å¼€å§‹")
    |     ^^^^^^^^ çº¯å‡½æ•°å†…ç¦æ­¢è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°
    |
    = å»ºè®®: å°† 'è¯»å–æ ¡å‡†å€¼' æ”¹ä¸º 'å‰¯ä½œç”¨ func'ï¼Œæˆ–ç§»é™¤æ—¥å¿—è°ƒç”¨

âš ï¸  math.yci:20: æ— æ³•è¯æ˜ 'å¹³æ–¹æ ¹(x)' æ»¡è¶³ ä¿è¯ è¿”å›å€¼ >= 0
    |
 20 |     è¿”å› å†…ç½®_å¹³æ–¹æ ¹(x)
    |            ^^^^^^^^^^^ å½“ x < 0 æ—¶ï¼Œè¿”å›å€¼å¯èƒ½ä¸º NaN
    |
    = å»ºè®®: æ·»åŠ  'è¦æ±‚ x >= 0' å‰ç½®æ¡ä»¶

âš ï¸  calc.yci:15: æ£€æµ‹åˆ°éšå¼ç±»å‹è½¬æ¢
    |
 15 |     var result: å°æ•° = count
    |                        ^^^^^ 'æ•´æ•°' ä¸èƒ½éšå¼è½¬æ¢ä¸º 'å°æ•°'
    |
    = ä¿®å¤: var result: å°æ•° = è½¬å°æ•°(count)
```

### 2.3 æ€§èƒ½ä¸èµ„æºå®¡è®¡ï¼ˆPerformance & Resourceï¼‰

æ£€æŸ¥é¡¹ï¼š
- é«˜é¢‘åˆ†é…ï¼ˆå¾ªç¯å†…é‡å¤ç”³è¯·å†…å­˜ï¼‰
- æœªä½¿ç”¨çš„å‡½æ•°/æ¨¡å—ï¼ˆæ­»ä»£ç ï¼‰
- é˜»å¡æ“ä½œåœ¨ `çº¯å‡½æ•°` ä¸­ï¼ˆå¦‚ I/Oã€å»¶æ—¶ï¼‰
- é€’å½’æ·±åº¦é£é™©
- å¤§å¯¹è±¡æ‹·è´

```bash
$ yucheng audit --perf

âš ï¸  loop.yci:5: åœ¨çº¯å‡½æ•°ä¸­è°ƒç”¨ å»¶æ—¶(100)
    |
  5 |     å»¶æ—¶(100)
    |     ^^^^^^^^ é˜»å¡æ“ä½œä¸åº”å‡ºç°åœ¨çº¯å‡½æ•°ä¸­
    
ğŸ’¡  unused.yc: å…¨å±€å‡½æ•° 'æ—§ç‰ˆè®¡ç®—' æœªè¢«ä»»ä½• .ycl å¼•ç”¨
    |
 12 |     çº¯å‡½æ•° func æ—§ç‰ˆè®¡ç®—(x: æ•´æ•°) -> æ•´æ•°
    |                 ^^^^^^^^ è€ƒè™‘åˆ é™¤æˆ–æ·»åŠ åˆ°é“¾æ¥é…ç½®

âš ï¸  data.yci:30: å¾ªç¯å†…é‡å¤åˆ†é…å†…å­˜
    |
 30 |     å¾ªç¯ i åœ¨ 1..1000 {
 31 |         var buf = ç”³è¯·(1024)  // æ¯æ¬¡è¿­ä»£éƒ½åˆ†é…
    |                   ^^^^^^^^^^ å»ºè®®åœ¨å¾ªç¯å¤–åˆ†é…å¹¶å¤ç”¨

âš ï¸  tree.yci:45: é€’å½’å‡½æ•° 'éå†' æ— æ·±åº¦é™åˆ¶
    |
 45 |     å‰¯ä½œç”¨ func éå†(èŠ‚ç‚¹: èŠ‚ç‚¹) {
    |                 ^^^^ æ·±åº¦é€’å½’å¯èƒ½å¯¼è‡´æ ˆæº¢å‡º
    |
    = å»ºè®®: æ·»åŠ æ·±åº¦å‚æ•°æˆ–æ”¹ç”¨è¿­ä»£å®ç°
```

---

## 3. å‘½ä»¤è¡Œæ¥å£

### 3.1 åŸºæœ¬ç”¨æ³•

```bash
# å…¨é¢å®¡è®¡ï¼ˆé»˜è®¤è¿è¡Œæ‰€æœ‰æ£€æŸ¥ï¼‰
yucheng audit

# ä¸“é¡¹å®¡è®¡
yucheng audit --memory      # ä»…å†…å­˜å®‰å…¨
yucheng audit --contract    # ä»…å¥‘çº¦åˆè§„
yucheng audit --perf        # ä»…æ€§èƒ½èµ„æº

# ç»„åˆå®¡è®¡
yucheng audit --memory --contract

# æŒ‡å®šç›®å½•æˆ–æ–‡ä»¶
yucheng audit src/
yucheng audit src/math.yci
```

### 3.2 è¾“å‡ºæ ¼å¼

```bash
# äººç±»å¯è¯»æ ¼å¼ï¼ˆé»˜è®¤ï¼‰
yucheng audit

# JSON æ ¼å¼ï¼ˆä¾¿äº CI/CD é›†æˆï¼‰
yucheng audit --format json > report.json

# SARIF æ ¼å¼ï¼ˆå…¼å®¹ GitHub Code Scanningï¼‰
yucheng audit --format sarif > report.sarif

# ç®€æ´æ¨¡å¼ï¼ˆä»…æ˜¾ç¤ºæ‘˜è¦ï¼‰
yucheng audit --summary
```

### 3.3 ä¸¥æ ¼ç¨‹åº¦æ§åˆ¶

```bash
# è­¦å‘Šä¹Ÿè§†ä¸ºé”™è¯¯ï¼ˆCI æ¨èï¼‰
yucheng audit --strict

# é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º
yucheng audit --fail-fast

# è®¾ç½®é€€å‡ºç é˜ˆå€¼
yucheng audit --exit-on-warning  # æœ‰è­¦å‘Šå°±è¿”å›éé›¶
yucheng audit --exit-on-error    # ä»…é”™è¯¯è¿”å›éé›¶ï¼ˆé»˜è®¤ï¼‰
```

### 3.4 è¿‡æ»¤ä¸å¿½ç•¥

```bash
# å¿½ç•¥ç‰¹å®šè§„åˆ™
yucheng audit --ignore MEM001,PERF003

# ä»…æ£€æŸ¥ç‰¹å®šè§„åˆ™
yucheng audit --only CONTRACT001,CONTRACT002

# å¿½ç•¥ç‰¹å®šæ–‡ä»¶
yucheng audit --exclude "test/**,vendor/**"
```

---

## 4. é…ç½®æ–‡ä»¶

### 4.1 é¡¹ç›®é…ç½® (yucheng.config.json)

```json
{
  "audit": {
    "memory": {
      "level": "error",
      "rules": {
        "MEM001": "error",    // æ‚¬å‚æŒ‡é’ˆ
        "MEM002": "error",    // å†…å­˜æ³„æ¼
        "MEM003": "warning",  // è¶Šç•Œè®¿é—®
        "MEM004": "warning"   // æŒæœ‰/é‡Šæ”¾ä¸æˆå¯¹
      }
    },
    "contract": {
      "level": "error",
      "rules": {
        "CONTRACT001": "error",    // çº¯å‡½æ•°è°ƒç”¨å‰¯ä½œç”¨
        "CONTRACT002": "warning",  // å¥‘çº¦æ— æ³•è¯æ˜
        "CONTRACT003": "error"     // éšå¼ç±»å‹è½¬æ¢
      }
    },
    "perf": {
      "level": "info",
      "rules": {
        "PERF001": "warning",  // å¾ªç¯å†…åˆ†é…
        "PERF002": "info",     // æ­»ä»£ç 
        "PERF003": "warning",  // é˜»å¡æ“ä½œ
        "PERF004": "info"      // é€’å½’æ·±åº¦
      }
    },
    "exclude": [
      "test/**",
      "examples/**",
      "vendor/**"
    ]
  }
}
```

### 4.2 è¡Œå†…å¿½ç•¥æ³¨é‡Š

```å¾¡ç¨‹
// å¿½ç•¥ä¸‹ä¸€è¡Œçš„ç‰¹å®šè§„åˆ™
// yucheng-ignore: MEM002
var legacy_ptr = æŒæœ‰(ç”³è¯·(100))  // å·²çŸ¥æ³„æ¼ï¼Œå¾…é‡æ„

// å¿½ç•¥æ•´ä¸ªå‡½æ•°
// yucheng-ignore-func: PERF001
å‰¯ä½œç”¨ func æ‰¹é‡å¤„ç†() {
    å¾ªç¯ i åœ¨ 1..1000 {
        var buf = ç”³è¯·(1024)  // æ€§èƒ½é—®é¢˜å·²çŸ¥
        // ...
    }
}

// å¸¦åŸå› çš„å¿½ç•¥
// yucheng-ignore: CONTRACT002 -- ç¬¬ä¸‰æ–¹åº“é™åˆ¶ï¼Œæ— æ³•æ·»åŠ å¥‘çº¦
var result = å¤–éƒ¨åº“.è®¡ç®—(x)
```

---

## 5. å®¡è®¡è§„åˆ™è¯¦è§£

### 5.1 å†…å­˜å®‰å…¨è§„åˆ™

| è§„åˆ™ID | åç§° | çº§åˆ« | æè¿° |
|--------|------|------|------|
| MEM001 | æ‚¬å‚æŒ‡é’ˆ | error | ä½¿ç”¨å·²é‡Šæ”¾çš„æŒ‡é’ˆ |
| MEM002 | å†…å­˜æ³„æ¼ | error | æŒæœ‰çš„å†…å­˜æœªé‡Šæ”¾ |
| MEM003 | è¶Šç•Œè®¿é—® | error | æ•°ç»„/ç¼“å†²åŒºç´¢å¼•è¶Šç•Œ |
| MEM004 | æŒæœ‰é‡Šæ”¾ä¸æˆå¯¹ | warning | `æŒæœ‰` å’Œ `é‡Šæ”¾` è°ƒç”¨ä¸åŒ¹é… |
| MEM005 | ç©ºæŒ‡é’ˆè§£å¼•ç”¨ | error | å¯èƒ½å¯¹ç©ºæŒ‡é’ˆè¿›è¡Œæ“ä½œ |
| MEM006 | åŒé‡é‡Šæ”¾ | error | åŒä¸€æŒ‡é’ˆé‡Šæ”¾ä¸¤æ¬¡ |

### 5.2 å¥‘çº¦åˆè§„è§„åˆ™

| è§„åˆ™ID | åç§° | çº§åˆ« | æè¿° |
|--------|------|------|------|
| CONTRACT001 | çº¯å‡½æ•°è¿è§„ | error | çº¯å‡½æ•°è°ƒç”¨äº†å‰¯ä½œç”¨å‡½æ•° |
| CONTRACT002 | æŸ¥è¯¢å‡½æ•°è¿è§„ | error | æŸ¥è¯¢å‡½æ•°è°ƒç”¨äº†å‰¯ä½œç”¨å‡½æ•° |
| CONTRACT003 | å‰ç½®æ¡ä»¶æ— æ³•æ»¡è¶³ | warning | è°ƒç”¨æ—¶å¯èƒ½è¿å `è¦æ±‚` |
| CONTRACT004 | åç½®æ¡ä»¶æ— æ³•è¯æ˜ | warning | å®ç°å¯èƒ½è¿å `ä¿è¯` |
| CONTRACT005 | éšå¼ç±»å‹è½¬æ¢ | error | æ£€æµ‹åˆ°éšå¼ç±»å‹è½¬æ¢ |
| CONTRACT006 | ç¼ºå°‘ç±»å‹å£°æ˜ | info | å˜é‡ç¼ºå°‘æ˜¾å¼ç±»å‹ |

### 5.3 æ€§èƒ½èµ„æºè§„åˆ™

| è§„åˆ™ID | åç§° | çº§åˆ« | æè¿° |
|--------|------|------|------|
| PERF001 | å¾ªç¯å†…åˆ†é… | warning | åœ¨å¾ªç¯å†…é‡å¤åˆ†é…å†…å­˜ |
| PERF002 | æ­»ä»£ç  | info | æœªè¢«å¼•ç”¨çš„å‡½æ•°æˆ–å˜é‡ |
| PERF003 | çº¯å‡½æ•°é˜»å¡ | warning | çº¯å‡½æ•°ä¸­å­˜åœ¨é˜»å¡æ“ä½œ |
| PERF004 | æ— é™é€’å½’é£é™© | warning | é€’å½’æ— æ˜ç¡®ç»ˆæ­¢æ¡ä»¶ |
| PERF005 | å¤§å¯¹è±¡æ‹·è´ | info | å¤§å‹ç»“æ„ä½“æŒ‰å€¼ä¼ é€’ |
| PERF006 | å­—ç¬¦ä¸²æ‹¼æ¥å¾ªç¯ | warning | å¾ªç¯å†…å­—ç¬¦ä¸²æ‹¼æ¥ |

---

## 6. CI/CD é›†æˆ

### 6.1 GitHub Actions

```yaml
# .github/workflows/audit.yml
name: YuCheng Audit

on: [push, pull_request]

jobs:
  audit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Install YuCheng
        run: |
          curl -fsSL https://yucheng-lang.org/install.sh | sh
          
      - name: Run Audit
        run: yucheng audit --format sarif --strict > results.sarif
        
      - name: Upload SARIF
        uses: github/codeql-action/upload-sarif@v2
        with:
          sarif_file: results.sarif
```

### 6.2 GitLab CI

```yaml
# .gitlab-ci.yml
audit:
  stage: test
  script:
    - yucheng audit --format json --strict > audit-report.json
  artifacts:
    reports:
      codequality: audit-report.json
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
```

### 6.3 Pre-commit Hook

```bash
#!/bin/bash
# .git/hooks/pre-commit

echo "Running YuCheng audit..."
yucheng audit --exit-on-error

if [ $? -ne 0 ]; then
    echo "âŒ Audit failed. Please fix the issues before committing."
    exit 1
fi

echo "âœ… Audit passed."
```

---

## 7. JSON æŠ¥å‘Šæ ¼å¼

```json
{
  "version": "1.0",
  "timestamp": "2026-01-10T12:00:00Z",
  "summary": {
    "total": 5,
    "errors": 2,
    "warnings": 2,
    "info": 1
  },
  "issues": [
    {
      "id": "MEM001",
      "category": "memory",
      "severity": "error",
      "message": "å¯èƒ½ä½¿ç”¨å·²é‡Šæ”¾æŒ‡é’ˆ 'buf'",
      "file": "src/math.yci",
      "line": 42,
      "column": 13,
      "source": "var x = buf[0]",
      "suggestion": "ç¡®ä¿åœ¨ä½¿ç”¨å‰æ£€æŸ¥æŒ‡é’ˆæœ‰æ•ˆæ€§",
      "related": [
        {
          "file": "src/math.yci",
          "line": 38,
          "message": "æŒ‡é’ˆåœ¨æ­¤å¤„è¢«é‡Šæ”¾"
        }
      ]
    },
    {
      "id": "CONTRACT001",
      "category": "contract",
      "severity": "error",
      "message": "çº¯å‡½æ•° 'è¯»å–æ ¡å‡†å€¼' è°ƒç”¨äº†å‰¯ä½œç”¨å‡½æ•° 'å†™å…¥æ—¥å¿—'",
      "file": "src/sensor.yci",
      "line": 8,
      "column": 5,
      "source": "å†™å…¥æ—¥å¿—(\"æ ¡å‡†å¼€å§‹\")",
      "suggestion": "å°†å‡½æ•°æ”¹ä¸º 'å‰¯ä½œç”¨ func' æˆ–ç§»é™¤å‰¯ä½œç”¨è°ƒç”¨"
    }
  ]
}
```

---

## 8. ä¸ç¼–è¯‘å™¨é›†æˆ

å®¡è®¡å¼•æ“å†…ç½®äº `yucheng` ç¼–è¯‘å™¨ï¼Œç¡®ä¿è§„åˆ™ä¸è¯­è¨€è¯­ä¹‰å®Œå…¨åŒæ­¥ï¼š

```bash
# ç¼–è¯‘æ—¶è‡ªåŠ¨è¿è¡ŒåŸºç¡€å®¡è®¡
yucheng build src/

# ç¼–è¯‘æ—¶å¯ç”¨ä¸¥æ ¼å®¡è®¡
yucheng build src/ --audit=strict

# ä»…å®¡è®¡ä¸ç¼–è¯‘
yucheng audit src/

# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨è§„åˆ™
yucheng audit --list-rules

# è§£é‡Šç‰¹å®šè§„åˆ™
yucheng audit --explain MEM001
```

### 8.1 å®¡è®¡ä¸ç¼–è¯‘çš„å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    yucheng build                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. è¯æ³•åˆ†æ â†’ 2. è¯­æ³•åˆ†æ â†’ 3. è¯­ä¹‰åˆ†æ               â”‚
â”‚                              â†“                          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚                    â”‚   å®¡è®¡å¼•æ“      â”‚                  â”‚
â”‚                    â”‚  (å¯é€‰å¯ç”¨)     â”‚                  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                              â†“                          â”‚
â”‚  4. ä¸­é—´ä»£ç ç”Ÿæˆ â†’ 5. ä¼˜åŒ– â†’ 6. ç›®æ ‡ä»£ç ç”Ÿæˆ           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. æœ€ä½³å®è·µ

### 9.1 å¼€å‘æµç¨‹å»ºè®®

1. **æœ¬åœ°å¼€å‘**ï¼šä½¿ç”¨ IDE æ’ä»¶å®æ—¶æ˜¾ç¤ºå®¡è®¡è­¦å‘Š
2. **æäº¤å‰**ï¼šè¿è¡Œ `yucheng audit --exit-on-error`
3. **CI/CD**ï¼šä½¿ç”¨ `--strict` æ¨¡å¼é˜»æ–­ä¸åˆè§„ä»£ç 
4. **å‘å¸ƒå‰**ï¼šè¿è¡Œå®Œæ•´å®¡è®¡å¹¶ç”ŸæˆæŠ¥å‘Š

### 9.2 æ¸è¿›å¼é‡‡ç”¨

```json
// ç¬¬ä¸€é˜¶æ®µï¼šä»…å¯ç”¨å…³é”®è§„åˆ™
{
  "audit": {
    "memory": { "level": "error" },
    "contract": { "level": "warning" },
    "perf": { "level": "off" }
  }
}

// ç¬¬äºŒé˜¶æ®µï¼šæå‡å¥‘çº¦æ£€æŸ¥
{
  "audit": {
    "memory": { "level": "error" },
    "contract": { "level": "error" },
    "perf": { "level": "info" }
  }
}

// ç¬¬ä¸‰é˜¶æ®µï¼šå…¨é¢ä¸¥æ ¼æ¨¡å¼
{
  "audit": {
    "memory": { "level": "error" },
    "contract": { "level": "error" },
    "perf": { "level": "warning" }
  }
}
```

### 9.3 å›¢é˜Ÿåä½œ

- å°† `yucheng.config.json` çº³å…¥ç‰ˆæœ¬æ§åˆ¶
- åœ¨ PR æ¨¡æ¿ä¸­è¦æ±‚å®¡è®¡é€šè¿‡
- å®šæœŸå®¡æŸ¥è¢«å¿½ç•¥çš„è§„åˆ™ï¼ˆ`yucheng-ignore` æ³¨é‡Šï¼‰
